" Plugin System
call plug#begin()
Plug 'itchyny/lightline.vim'
set laststatus=2
set noshowmode
Plug 'neoclide/coc.nvim', {'branch': 'release'}
Plug 'jiangmiao/auto-pairs'
call plug#end()

" General Vim Config
set mouse=a
set ttimeoutlen=0
set number

" Cursor for iTerm
if $TERM_PROGRAM =~ "iTerm"
  let &t_SI = "\<Esc>]50;CursorShape=1\x7"
  let &t_SR = "\<Esc>]50;CursorShape=2\x7"
  let &t_EI = "\<Esc>]50;CursorShape=0\x7"
endif

" Indentation
set expandtab
set tabstop=2
set shiftwidth=2
set softtabstop=2

" use <tab> to trigger completion and navigate to the next complete item
inoremap <silent><expr> <TAB>
      \ coc#pum#visible() ? coc#pum#next(1) :
      \ CheckBackspace() ? "\<Tab>" :
      \ coc#refresh()
inoremap <expr><S-TAB> coc#pum#visible() ? coc#pum#prev(1) : "\<C-h>"

" coc related settings
let g:coc_global_extensions = ['coc-json', 'coc-yaml', 'coc-vimlsp', 'coc-toml']
